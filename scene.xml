<scene version="3.0.0">
    <integrator type="path">
        <integer name="max_depth" value="5"/>
    </integrator>

    <sensor type="perspective">
        <string name="fov_axis" value="y"/>
        <float name="fov" value="30"/>
        
        <float name="near_clip" value="0.1"/>
        <float name="far_clip" value="100.0"/>

        <transform name="to_world">
            <lookat origin="0, 1.4841, 5.4950" 
                    target="0, 1.25, 0" 
                    up    ="0, 1, 0"/>
        </transform>

        <film type="hdrfilm">
            <integer name="width" value="640"/>
            <integer name="height" value="480"/>
            <rfilter type="box"/>
        </film>

        <sampler type="independent">
            <integer name="sample_count" value="64"/>
        </sampler>
    </sensor>
    
    <bsdf type="diffuse" id="mat_gray">
        <rgb name="reflectance" value="0.75, 0.75, 0.75"/>
    </bsdf>

    <bsdf type="diffuse" id="mat_red">
        <rgb name="reflectance" value="0.75, 0.25, 0.25"/>
    </bsdf>

    <bsdf type="diffuse" id="mat_blue">
        <rgb name="reflectance" value="0.25, 0.25, 0.75"/>
    </bsdf>

    <bsdf type="conductor" id="mat_mirror">
        <string name="material" value="none"/>
    </bsdf>

    <bsdf type="dielectric" id="mat_glass">
        <float name="int_ior" value="1.5"/>
        <float name="ext_ior" value="1.0"/>
        <rgb name="specular_transmittance" value="1.0, 1.0, 1.0"/>
    </bsdf>

    <!-- 
      STANDARD CORNELL BOX WALLS 
      Room Size: 3m Wide (x), 2.4m High (y), 4m Deep (z)
    -->

    <!-- Left Wall (Red): x = -1.5 -->
    <shape type="rectangle">
        <transform name="to_world">
            <!-- Scale X=Depth(2.0->4m), Scale Y=Height(1.2->2.4m) -->
            <scale value="2.0, 1.2, 1.0"/>
            <rotate y="1" angle="90"/>
            <translate x="-1.5" y="1.2" z="0.0"/>
        </transform>
        <ref id="mat_red"/>
    </shape>

    <!-- Right Wall (Blue): x = 1.5 -->
    <shape type="rectangle">
        <transform name="to_world">
            <scale value="2.0, 1.2, 1.0"/>
            <rotate y="1" angle="-90"/>
            <translate x="1.5" y="1.2" z="0.0"/>
        </transform>
        <ref id="mat_blue"/>
    </shape>

    <!-- Back Wall (Gray): z = -2.0 -->
    <shape type="rectangle">
        <transform name="to_world">
            <!-- Scale X=Width(1.5->3m), Scale Y=Height(1.2->2.4m) -->
            <scale value="1.5, 1.2, 1.0"/>
            <translate x="0" y="1.2" z="-2.0"/>
        </transform>
        <ref id="mat_gray"/>
    </shape>

    <!-- Floor (Gray): y = 0.0 -->
    <shape type="rectangle">
        <transform name="to_world">
            <!-- Scale X=Width(1.5->3m), Scale Y=Depth(2.0->4m) -->
            <scale value="1.5, 2.0, 1.0"/>
            <rotate x="1" angle="-90"/>
            <translate x="0" y="0.0" z="0.0"/>
        </transform>
        <ref id="mat_gray"/>
    </shape>

    <!-- Ceiling (Gray): y = 2.4 -->
    <shape type="rectangle">
        <transform name="to_world">
            <scale value="1.5, 2.0, 1.0"/>
            <rotate x="1" angle="90"/>
            <translate x="0" y="2.4" z="0.0"/>
        </transform>
        <ref id="mat_gray"/>
    </shape>

    <!-- Objects -->
    <shape type="sphere">
        <transform name="to_world">
            <scale value="0.5"/>
            <translate x="-0.7" y="0.5" z="-0.6"/>
        </transform>
        <ref id="mat_mirror"/>
    </shape>

    <shape type="sphere">
        <transform name="to_world">
            <scale value="0.5"/>
            <translate x="0.7" y="0.5" z="0.6"/>
        </transform>
        <ref id="mat_glass"/>
    </shape>

    <!-- Light -->
    <shape type="rectangle">
        <transform name="to_world">
            <!-- 
               Size: 1.0 x 1.0 (Area 1.0)
               Scale: 1.0 / 2 = 0.5 
            -->
            <scale value="0.5"/>
            <rotate x="1" angle="90"/>
            <translate x="0" y="2.399" z="0"/>
        </transform>
        
        <emitter type="area">
            <rgb name="radiance" value="34.2183, 34.2183, 34.2183"/>
        </emitter>
    </shape>

</scene>
